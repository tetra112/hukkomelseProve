<html>
    <head>
        <link rel="stylesheet" href="objekterStyling.css">
    </head>
    <body id="bord"></body>
</html>
<script>
// henter inn elementer    
    let bordEl = document.querySelector("#bord")

// Variabler
    let tempArr = [];

// genererer <div> elementer
    for (i=0;i<36;i++){
        let tileEl = document.createElement("div")
        tileEl.dataset.klasse = "baseTile";
        tileEl.dataset.status = "hidden";
        tileEl.dataset.posisjon = [i];
        tileEl.addEventListener("click",clickHandler)
        bordEl.appendChild(tileEl)
    }




// bytter data-status på clicket element til "open"
// setter også verdien på data-objekt som innerHTML
    function clickHandler(a){
        this.setAttribute('data-status', "open");
// tempy = hva som skal være avbildet på et åpnet kort, lagret som verdien i 'data-objekt'
        let tempy = this.getAttribute('data-objekt')
        this.innerHTML = tempy;
        var antallOpenEl = document.querySelectorAll('[data-status="open"]')

    // etter at let tempy vises i tilen, venter den 1sec før den kjekker om de er like.     
        setTimeout(()=>{
    // vis 2 elementer er åpne kjør følgende:
        if(antallOpenEl.length == 2){
    // ser hvordan type objekt det er
            tempf1 = antallOpenEl[0].getAttribute('data-objekt');
            tempf2 = antallOpenEl[1].getAttribute('data-objekt');
    // vis objekt verdien er forskjellige: setter dem som hidden, uten tekst i midten        
            if(tempf1 != tempf2){
                antallOpenEl[0].setAttribute('data-status',"hidden")
                antallOpenEl[0].innerHTML = "";
                antallOpenEl[1].setAttribute('data-status',"hidden")
                antallOpenEl[1].innerHTML = "";
    // vis objekt verdien er lik: setter statusen dems som låst 
            }else if(tempf1 == tempf2){
                antallOpenEl[0].setAttribute('data-status',"locked")
                antallOpenEl[1].setAttribute('data-status',"locked")
            }
        }
    }, 500) // 1000 = antall millisekunder den venter
}

// funkjon som shufftler input arrayen 
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }


// lager en Array med dupliserte tall fra 1-18 + caller på shuffleArray funksjonen
    function genVerdier(){
        tempArray=[];
        for(i=0;i<18;i++){
            pushTemp = i+1;
            tempArray.push(pushTemp);
            tempArray.push(pushTemp);
        }
        shuffleArray(tempArray)
    }


// gir verdien til <div> elementene
    function linkDivVerdi(){
        for(i=0;i<36;i++){
            var baseTileArr = document.querySelectorAll('[data-klasse="baseTile"]')
            baseTileArr[i].setAttribute("data-objekt",tempArray[i])
        }
    }

// sammenligner clicka tiles
    function blabla(){
        var temp123 = document.querySelectorAll('[data-status="open"]')
        if(temp123.length == 1){
            tempf1 = temp123[0].getAttribute('data-objekt');
            tempf2 = temp123[1].getAttribute('data-objekt');
            if(tempf1 != tempf2){
                temp123[0].setAttribute('data-status',"hidden")
                temp123[0].innerHTML = "";
                temp123[1].setAttribute('data-status',"hidden")
                temp123[1].innerHTML = "";
            }
        }
    }

// kjører funksjoner
    genVerdier()
    linkDivVerdi()
</script>

<style>

</style>